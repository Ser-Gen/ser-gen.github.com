---
layout: post
title: Склеивать файлы или держать раздельно?
categories: [dev]
---

Часто встречаю в рекомендациях по оптимизации загрузки страниц такой совет:

> Объединяйте файлы стилей, скриптов, картинок в один соответствующий файл, это поможет сократить количество запросов и этим ускорит загрузку ресурсов!

В наличии несколько файлов:

```
jquery.fancybox.js
jquery.tiptip.js
jquery.some.js
jquery.more.js
jquery.plgn.js
init.js
load.js
main.js
```

Некоторые из них меняются часто, другие каждый месяц. Размер у каждого примерно одинаков, изменяющиеся даже меньше среднего. Все они кешируются более, чем на год.

Объединяя эти файлы, вы **обрекаете** своих пользователей на ежемесячную загрузку этого большого комплекта скриптов. В то же время, держа их раздельно, **позволяете** скачивать только то, что изменилось.

Да, остаётся вариант с **первым посещением**. Действительно, впервые пришедшим на наш сайт посетителям придётся загружать все эти файлы параллельно, делая запросы, которые можно было бы потратить на изображения, например.

К счастью, этих файлов намного меньше, чем изображений, а потраченное время из-за большего количества запросов будет незначительным, по сравнению со временем загрузки часто меняющегося объединённого файла.

Я к тому, что универсальных способов оптимизации нет, всё индивидуально.

> Не гадай, тестируй!
